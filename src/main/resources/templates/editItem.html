<!DOCTYPE html>
<html xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      xmlns:layout="http://ultraq.net.nz/thymeleaf/layout"
      layout:decorate="layout/main.html"
      xmlns:th="http://www.thymeleaf.org"
      xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title layout:title="Home">edit_item</title>
    <link th:href="@{/css/editEdit.css}" rel="stylesheet"/>
    <script th:src="@{/js/editEdit.js}"></script>
</head>
<body>
<div layout:fragment="content">
    <div class="container">
        <div class="row mt-5">
            <div class="col-6 offset-3">
                <form th:action="@{'/saveItem'}" method="post">
                    <input type="hidden" name="id" th:value="${item.id}">
                    <div class="form-group">
                        <label th:text="#{label.name}">
                        </label>
                        <input type="text" class="form-control" name="item_name" th:value="${ item!=null?item.name:' '}">
                    </div>
                    <div class="form-group">
                        <label th:text="#{label.price}">
                        </label>
                        <input type="number" class="form-control" name="item_price" value="0" max="10000000" min="0"
                               th:value="${item!=null?item.price:'0'}">
                    </div>
                    <div class="form-group">
                        <label th:text="#{label.amount}">
                        </label>
                        <input type="number"  class="form-control" name="item_amount" value="0" max="1000000" min="0"
                               th:value="${item!=null?item.amount:'0'}">
                    </div>
                    <div class="form-group">
                        <label >Выберите Company</label>
                        <select class="form-control" name="item_company">
                            <option th:each="cnt : ${companies}" th:text="${cnt.name}"
                                    th:value="${cnt.id}" th:selected="${item!=null&&item.id!=null&&item.company.id==cnt.id}"></option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label >Выберите Cooler</label>
                        <select class="form-control" name="item_cooler">
                            <option th:text="#{label.cooler}"></option>
                            <option th:each="cooler : ${coolers}" th:text="${cooler.name+' '+cooler.price+' '+   'tg'}"
                                    th:value="${cooler.id}" th:selected="${item!=null&&item.id!=null&&item.coolerCategories.id==cooler.id}"></option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label >Выберите Matrix</label>
                        <select class="form-control" name="item_matrix" >
                            <option th:text="#{label.matrix}"></option>
                            <option th:each="matrix : ${matrices}" th:text="${matrix.name + ' '+matrix.price+' '+'tg'}"
                                    th:value="${matrix.id}"th:selected="${item!=null&&item.id!=null&&item.matrixCategories.id==matrix.id}"></option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label >Выберите Processor</label>
                        <select class="form-control" name="item_processor" >
                            <option th:text="#{label.processor}"></option>
                            <option th:each="processor : ${processors}" th:text="${processor.name +' '+processor.price+' '+'tg'}"
                                    th:value="${processor.id}" th:selected="${item!=null&&item.id!=null&&item.processorCategories.id==processor.id}"></option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label >Выберите RAM</label>
                        <select class="form-control" name="item_ram" >
                            <option th:text="#{label.ram}"></option>
                            <option th:each="ram : ${rams}" th:text="${ram.name +' '+ram.price+' '+'tg'}"
                                    th:value="${ram.id}" th:selected="${item!=null&&item.id!=null&&item.ramCategories.id==ram.id}"></option>
                        </select>
                    </div>
                    <div class="form-group">
                        <select class="form-control" name="item_videoCard">
                            <option th:text="#{label.videoCard  }"></option>
                            <option th:each="videoCard : ${videoCards}" th:text="${videoCard.name +' '+videoCard.price+' '+'tg'}"
                                    th:value="${videoCard.id}" th:selected="${item!=null&&item.id!=null&&item.videoCardCategories.id==videoCard.id}"></option>
                        </select>
                    </div>
                    <div class="form-group">
                        <form th:action="@{'/saveitem'}" method="post">
                            <input type="hidden" name="id" th:value="${item.id}">
                            <button class="btn btn-success" th:text="#{button.save}"></button>
                        </form>
                    </div>
                    <div class="form-group">
                        <form th:action="@{'/deleteItem'}" method="post">
                            <input type="hidden" name="id" th:value="${item.id}">
                            <button class="btn btn-danger" th:text="#{button.delete}"></button>
                        </form>
                    </div>

                </form>
            </div>
        </div>
    </div>

</div>
</body>
</html>
